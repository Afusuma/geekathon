version: 1
applications:
  - appRoot: apps/web
    frontend:
      phases:
        preBuild:
          commands:
            - echo "=== SmartLabel AI Build Started ==="
            - echo "Node version:" && node --version
            - echo "NPM version:" && npm --version
            - echo "Current directory:" && pwd
            - echo "Listing directory contents:"
            - ls -la
            - echo "Installing dependencies..."
            - npm install
            - echo "Dependencies installed successfully"
        build:
          commands:
            - echo "=== Building Application ==="
            - npm run build
            - echo "Build completed, checking output..."
            - ls -la .next/ || echo "No .next directory found"
            - echo "=== Build Process Completed ==="
      artifacts:
        baseDirectory: .next
        files:
          - '**/*'
      cache:
        paths:
          - node_modules/**/*
          - .next/cache/**/*
